{"version":3,"file":"static/js/628.a3ffb5f8.chunk.js","mappings":"yPAEaA,EAAOC,EAAAA,GAAAA,KAAH,4CAIJC,EAAQD,EAAAA,GAAAA,MAAH,sE,SCmDlB,EAnDqB,WACjB,OAA4BE,EAAAA,EAAAA,MAA5B,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOK,EAAP,KAAeC,EAAf,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQX,EAAOY,IAAI,UAEzBC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAmBH,GACdI,MAAK,gBAAGC,EAAH,EAAGA,QAAH,OAAiBR,EAAUQ,EAA3B,IACHC,OAAM,SAAAZ,GAAK,OAAIa,QAAQC,IAAId,EAAhB,GACjB,GAAE,CAACM,IAcN,OACI,iCACI,UAACf,EAAD,CAAMwB,SAbY,SAAAC,GACtBA,EAAIC,iBACJhB,EAAS,MACY,KAAjBH,EAAMoB,OAKVtB,EAAU,CAAEU,MAAOR,IAJfe,QAAQC,IAAI,sBAKnB,EAIO,WACI,SAACrB,EAAD,CACI0B,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,yBACZC,MAAOzB,EACP0B,SAAU,SAAAR,GAAG,OAAIjB,EAASiB,EAAIS,cAAcF,MAA/B,KAEjB,mBAAQJ,KAAK,SAAb,UACI,0CAXZ,OAeKnB,QAfL,IAeKA,EAAAA,GAAS,wBACLE,EAAOwB,KAAI,SAAAC,GAAK,OAAI,yBAAmB,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAMC,MAAO1B,EAAhC,SAA2CuB,EAAMI,SAA3DJ,EAAME,GAAnB,QAIhC,C,oHCrDKG,EAAU,mCAEhBC,EAAAA,EAAAA,SAAAA,QAAyB,6BAElB,IAAMC,EAAc,WACvB,OAAOD,EAAAA,EAAAA,IAEE,yBAA0B,CAC3BE,OAAQ,CACJC,QAASJ,KAGpBtB,MAAK,SAAA2B,GAAM,OAAIA,EAAOC,IAAX,GACf,EAEY7B,EAAqB,SAACH,GAC/B,OAAO2B,EAAAA,EAAAA,IAEE,kBAAmB,CACxBE,OAAQ,CACJC,QAASJ,EACT1B,MAAAA,EACAiC,eAAe,KAGtB7B,MAAK,SAAA2B,GAAM,OAAIA,EAAOC,IAAX,GACf,EAEYE,EAAkB,SAACX,GAAuB,IAAnBY,EAAkB,uDAAT,KACzC,OAAOR,EAAAA,EAAAA,IAAA,mBAIcJ,GAJd,OAImBY,EAAM,WAAOA,GAAW,IAAM,CAChDN,OAAQ,CACJC,QAASJ,KAGZtB,MAAK,SAAA2B,GAAM,OAAIA,EAAOC,IAAX,GACvB,C","sources":["components/Movies/SearchMovies.style.js","components/Movies/SearchMovies.jsx","services/tmdbAPI.js"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const Form = styled.form`\n    margin: 5px 0;\n`;\n\nexport const Input = styled.input`\n    &:focus {\n        outline: none;\n    }\n`;","import { useEffect, useState } from \"react\";\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport { searchMovieByQuery } from \"services/tmdbAPI\";\n\nimport { Form, Input } from \"./SearchMovies.style\";\n\nconst SearchMovies = () => {\n    const [search, setSearch] = useSearchParams(); // location\n    const [input, setInput] = useState('');\n    const [error, setError] = useState(null);\n    const [movies, setMovies] = useState([]);\n\n    const location = useLocation();\n\n    const query = search.get(\"query\");\n\n    useEffect(() => {\n      searchMovieByQuery(query)\n          .then(({ results }) => setMovies(results))\n            .catch(error => console.log(error))\n      }, [query])\n    \n\n    const handleQuerySubmit = evt => {\n        evt.preventDefault();\n        setError(null);\n        if (input.trim() === '') {\n            console.log(\"Enter search query!\");\n            return;\n        };\n        // setInput('');\n        setSearch({ query: input });\n    };\n    \n    return (\n        <>\n            <Form onSubmit={handleQuerySubmit}>\n                <Input\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search movies by title\"\n                    value={input}\n                    onChange={evt => setInput(evt.currentTarget.value)}\n                />\n                <button type=\"submit\">\n                    <span>Search</span>\n                </button>\n                \n            </Form>\n            {error ?? <ul>\n                {movies.map(movie => <li key={movie.id}><Link to={`${movie.id}`} state={location}>{movie.title}</Link></li>)}\n            </ul>}\n        </>\n    );\n};\n \nexport default SearchMovies;","import axios from \"axios\";\n\nconst API_KEY = '62b98c2ee90b8cb7c57f2d936e771a35';\n\naxios.defaults.baseURL = \"https://api.themoviedb.org\";\n\nexport const getFromTmdb = () => {\n    return axios\n        // https://api.themoviedb.org/3/trending/movie/week?api_key=62b98c2ee90b8cb7c57f2d936e771a35\n        .get('/3/trending/movie/week', {\n            params: {\n                api_key: API_KEY,\n            }\n        })\n    .then(result => result.data)\n};\n\nexport const searchMovieByQuery = (query) => {\n    return axios\n        // https://api.themoviedb.org/3/search/movie?api_key=62b98c2ee90b8cb7c57f2d936e771a35&query=avatar&include_adult=true\n        .get('/3/search/movie', {\n        params: {\n            api_key: API_KEY,\n            query,\n            include_adult: true\n        }\n        })\n    .then(result => result.data)\n}\n\nexport const getMovieDetails = (id, option = null) => {\n    return axios\n        // https://api.themoviedb.org/3/movie/76600?api_key=62b98c2ee90b8cb7c57f2d936e771a35\n        // https://api.themoviedb.org/3/movie/638974/credits?api_key=62b98c2ee90b8cb7c57f2d936e771a35 - cast\n        // https://api.themoviedb.org/3/movie/638974/reviews?api_key=62b98c2ee90b8cb7c57f2d936e771a35 - reviews\n        .get(`/3/movie/${id}${option ? `/${option}` : ''}`, {\n            params: {\n                api_key: API_KEY,\n            }\n            })\n            .then(result => result.data)\n}"],"names":["Form","styled","Input","useSearchParams","search","setSearch","useState","input","setInput","error","setError","movies","setMovies","location","useLocation","query","get","useEffect","searchMovieByQuery","then","results","catch","console","log","onSubmit","evt","preventDefault","trim","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","map","movie","to","id","state","title","API_KEY","axios","getFromTmdb","params","api_key","result","data","include_adult","getMovieDetails","option"],"sourceRoot":""}